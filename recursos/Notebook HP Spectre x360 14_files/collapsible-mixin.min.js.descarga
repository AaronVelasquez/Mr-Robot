define(['jquery'],function($){'use strict';return function(originalWidget){$.widget('mage.collapsible',$.mage.collapsible,{_scrollToTopIfNotVisible:function(){if(this._isElementOutOfViewport()){this.header[0].scrollIntoView();this.scrollYSidebar();}},scrollYSidebar:function(){let scrolledY=window.scrollY,headerHeight=!$('.block-subtitle.filter-subtitle').height()?60:$('.block-subtitle.filter-subtitle').height()+2,headerHeightAndTitle=!$('.filter-options-title').eq(1).outerHeight()?113:$('.filter-options-title').eq(1).outerHeight();if($('.sidebar-main').hasClass('sticky')&&scrolledY){window.scroll(0,scrolledY-headerHeight);}else if($('body.catalog-category-view').length>0){if($(window).scrollTop()>$('.category-tabs').offset().top){window.scroll(0,scrolledY-(headerHeightAndTitle+headerHeight));}}else if($('body.catalogsearch-result-index').length>0){if($(window).scrollTop()>$('.hawk-search-product-list').offset().top){window.scroll(0,scrolledY-(headerHeightAndTitle+headerHeight));}}}});return $.mage.collapsible;};});