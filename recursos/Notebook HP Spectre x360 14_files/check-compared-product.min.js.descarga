define(['jquery','Magento_Customer/js/customer-data'],function($,customerData){'use strict';var checkComparedProduct,comparedProductIds,compareProductSelector='[data-role=compare-product]',addToLinks='.product-addto-links';checkComparedProduct=function(){var productIds=comparedProductIds();if(productIds.length>0){$(compareProductSelector).each(function(index,item){if($.inArray($(item).data('product-id'),productIds)>=0){$(item).addClass('compared');$(item).removeClass('not-after')}else{$(item).removeClass('compared');$(item).addClass('not-after')}});}else{$(compareProductSelector).each(function(index,item){$(item).removeClass('compared');$(item).addClass('not-after')});}};comparedProductIds=function(){var productIds=[];var dataObject=customerData.get('compare-products');var comparedProducts=dataObject();if(comparedProducts.items){$.each(comparedProducts.items,function(index,item){productIds.push(parseInt(item.id));});}
return productIds;};$(function(){$(document).on('ajaxComplete',function(event,xhr,settings){checkComparedProduct();});checkComparedProduct();$(document).on('mouseover',addToLinks,function(){$(addToLinks).addClass('hover');});$(document).on('mouseout',addToLinks,function(){$(addToLinks).removeClass('hover');});});});