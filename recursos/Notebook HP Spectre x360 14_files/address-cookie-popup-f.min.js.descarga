define(['jquery','Magento_Ui/js/modal/modal','mage/url',],function($,modal,url){'use strict';var params={ShareAddressUrl:url.build('pincode/index/shareaddress')}
return{popup:function(){if($.cookie('addressShare')){return;}
var _this=this;var useCookieShare=false;if(window.OnetrustActiveGroups&&window.OnetrustActiveGroups.length>3){useCookieShare=true;_this._setIfShareAddress(useCookieShare);return;}
var options={type:'popup',responsive:true,title:'',modalClass:'cookie-popup',buttons:[{text:$.mage.__('I accept'),class:'cookie-popup-button',click:function(){useCookieShare=true;this.closeModal();}}]};$.cookie('addressShare',0);var popup=modal(options,$('#cookie-modal'));$("#cookie-modal").modal('openModal');$("#cookie-modal").modal({closed:function(){_this._setIfShareAddress(useCookieShare);}})},_setIfShareAddress:function(setIfShareAddress){$.ajax({showLoader:true,url:params.ShareAddressUrl,type:"POST",dataType:'json',data:{'action':'setIfShareAddress','data':{'setIfShareAddress':setIfShareAddress}},async:false}).done(function(result){if(result==true){$.cookie('addressShare',1);}else{$.cookie('addressShare',0);}});}}});