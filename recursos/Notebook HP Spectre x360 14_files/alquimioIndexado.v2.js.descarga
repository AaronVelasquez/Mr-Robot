(async()=>{const t=document.querySelector('script[src*="alquimioIndexado.v2"]');let a=t.getAttribute("data-env");const e=t.getAttribute("data-retail")||document.location.hostname,o=document.location.href,n=t.dataset;let l=[];Object.keys(n).forEach((t=>{console.log(`${t} = ${n[t]}`);const a={key:t,value:n[t]};l.push(a)}));let s={filter:l,retail:e,fullRetail:o};const c=async t=>{const e=await fetch(`${function(){switch(a){case"production":default:hostApi="https://orchestrator.production.aks.alquimio.cloud/scriptManagement";break;case"staging":hostApi="https://orchestrator.staging.aks.alquimio.cloud/scriptManagement";break;case"local":hostApi="http://localhost:3001/scriptManagement"}return hostApi}()}/get`,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});return e.status>=200&&e.status<300?e.json():new Error},i=async t=>{try{t&&t.data.features&&Array.isArray(t.data.features)&&t.data.features.forEach((t=>{const a=document.createElement("script");a.src=t.urlScript,t.metadata&&Array.isArray(t.metadata)&&t.metadata.forEach((t=>{a.dataset[t.key]=t.value})),console.log("feature:::",t.id),document.head.appendChild(a)}))}catch(t){console.log("Hotspots (processResponse) ---\x3e 005")}};let r=0;0===Object.keys(n).length&&(r=1,s={...s,onlyDefaultScripts:r}),window.PMBox={loadContentById:async function(t,a,e=!0,o=null){const n=document.location.hostname,l=document.location.href;let s=[{key:"modelId",value:t}];a&&s.push({key:"lang",value:a});let u={filter:s,retail:n,fullRetail:l};1===r&&(u={...u,onlyDefaultScripts:2});const d=await c(u);await i(d)},loadContentBySku:async function(t,a,e=!0,o=null){const n=document.location.hostname,l=document.location.href;let s=[{key:"sku",value:t}];a&&s.push({key:"lang",value:a});let u={filter:s,retail:n,fullRetail:l};1===r&&(u={...u,onlyDefaultScripts:2});const d=await c(u);await i(d)},loadContentByEan:async function(t,a,e=!0,o=null){const n=document.location.hostname,l=document.location.href;let s=[{key:"ean",value:t}];a&&s.push({key:"lang",value:a});let u={filter:s,retail:n,fullRetail:l};1===r&&(u={...u,onlyDefaultScripts:2});const d=await c(u);await i(d)}};const u=await c(s);await i(u)})();