require(['jquery'],function($){$(function(){var cityContainer=$('#product_info_address').find('.field.city');var autocompleteCityEle=$('#address_mini_search input[name="autosearch"]');var districtContainer=$('#product_info_address').find('.field.district');if(!cityContainer.is(':visible')&&!autocompleteCityEle.length){$('select[name="region_id"]').on('change',function(){var citySelector=$(this).closest('.field.region').siblings('.field.city').find('select[name="city_id"]');var citySelectedInterval=setInterval(function(){if(citySelector.find('option').length>1){citySelector.find('option:nth-child(2)').attr('selected','selected').change();clearInterval(citySelectedInterval);}},100);});}
cityContainer.find('select[name="city_id"]').on('change',function(){var districtSelector=$(this).closest('.field.city').siblings('.field.district').find('select[name="district_id"]'),postcodeSelector=$(this).closest('.field.city').siblings('.field.zip').find('select[name="zip_id"]');if(districtSelector.length>0){if(!districtContainer.is(':visible')){districtSelector.find('option:nth-child(n+2)').remove();postcodeSelector.find('option:nth-child(n+2)').remove();var detectDistrictInterval;detectDistrictInterval=setInterval(function(){if(districtSelector.find('option').length>1){districtSelector.find('option:nth-child(2)').attr('selected','selected').change();clearInterval(detectDistrictInterval);}},100);var postcodeInterval;postcodeInterval=setInterval(function(){if(postcodeSelector.find('option').length>1){postcodeSelector.find('option:nth-child(2)').attr('selected','selected');$('.check-edd').trigger('click');clearInterval(postcodeInterval);}},100);}}else{var cityInterval;var timesRun=0;postcodeSelector.find('option:nth-child(n+2)').remove();cityInterval=setInterval(function(){timesRun+=1;if(postcodeSelector.val()){$('.check-edd').trigger('click');clearInterval(cityInterval);}
if(timesRun>10){clearInterval(cityInterval);}},100);}});if(districtContainer.length>0){districtContainer.find('select[name="district_id"]').on('change',function(){var postcodeSelector=$(this).closest('.field.district').siblings('.field.zip').find('select[name="zip_id"]');var postcodeInterval;postcodeInterval=setInterval(function(){if(postcodeSelector.find('option').length>1){postcodeSelector.find('option:nth-child(2)').attr('selected','selected');$('.check-edd').trigger('click');clearInterval(postcodeInterval);}},100);});}
$('select[name="cac_region_id"]').on('change',function(){var postcode=$(this).find('option:selected').data('postcode');$(this).parents('div.cac-region').siblings('input[name="postcode"]').val(postcode);});if(typeof autoSelectedRegionId!=='undefined'){if(autoSelectedRegionId){if(!cityContainer.is(':visible')&&!autocompleteCityEle.length){$('select[name="region_id"]').trigger('change');}else{if(districtContainer.length>0&&districtContainer.is(':visible')){var districtSelector=$('select[name="district_id"]');var districtInterval=setInterval(function(){if(districtSelector.find('option').length>1){if(autocompleteCityEle.length>0){autocompleteCityEle.val(cityContainer.find('input[name="city"]').val()).trigger('change');}
districtSelector.change();clearInterval(districtInterval);}},100);}else{var citySelector=$('select[name="city_id"]');var cityInterval=setInterval(function(){if(citySelector.find('option').length>1){citySelector.change();clearInterval(cityInterval);}},100);}}}}});});